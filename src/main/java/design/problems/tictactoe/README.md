Design a tic-tac-toe with the following functionalities.
1. Size of board should be flexible.
2. Can support multiplayer.
3. Undo functionality.